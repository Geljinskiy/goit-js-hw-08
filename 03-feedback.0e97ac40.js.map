{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAQC,SAASC,cAAc,SAC/BC,EAAUF,SAASC,cAAc,YACjCE,EAASH,SAASC,cAAc,UACtC,IAAIG,EAAa,G,iBAqBjB,SAASC,EAAUC,GACjB,IAAIC,GAAa,EACjB,IACEA,EAAaC,KAAKC,OAAM,EAAAZ,EAAAa,SAvBP,wBAuB8BJ,EAAMK,MACrD,MAAOC,IACLL,IACFH,EAAaI,KAAKC,OAAM,EAAAZ,EAAAa,SA1BP,wBA2BjBJ,EAAMO,MAAQN,GAIlB,SAASO,IACPC,QAAQC,IAAIZ,GACZA,EAAWa,KAAKN,MAAQM,KAAKJ,OAC7B,EAAAhB,EAAAqB,SAlCmB,sBAkCGV,KAAKW,UAAUf,IA/BvCC,EAAUN,GACVM,EAAUH,GAEVH,EAAMqB,iBAAiB,QAASC,EAASP,EAAO,MAChDZ,EAAQkB,iBAAiB,QAASC,EAASP,EAAO,MAElDX,EAAOiB,iBAAiB,SAExB,SAAkBE,GAChBA,EAAGC,iBAEHR,QAAQC,IAAIZ,IACZ,EAAAP,EAAA2B,YAfmB,uBAgBnBzB,EAAMc,MAAQ,GACdX,EAAQW,MAAQ","sources":["src/js/03-feedback.js"],"sourcesContent":["import { setData, getData, removeData } from './storage';\n\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\nconst submit = document.querySelector('button');\nlet storageObj = {};\nconst LOCAL_FIELDS = 'feedback-form-state';\nconst throttle = require('lodash/throttle');\n\ngetInputs(email);\ngetInputs(message);\n\nemail.addEventListener('input', throttle(input, 500));\nmessage.addEventListener('input', throttle(input, 500));\n\nsubmit.addEventListener('click', onSubmit);\n\nfunction onSubmit(ev) {\n  ev.preventDefault();\n\n  console.log(storageObj);\n  removeData(LOCAL_FIELDS);\n  email.value = '';\n  message.value = '';\n}\n\nfunction getInputs(input) {\n  let parsedData = false;\n  try {\n    parsedData = JSON.parse(getData(LOCAL_FIELDS))[input.name];\n  } catch (error) {}\n  if (parsedData) {\n    storageObj = JSON.parse(getData(LOCAL_FIELDS));\n    input.value = parsedData;\n  }\n}\n\nfunction input() {\n  console.log(storageObj);\n  storageObj[this.name] = this.value;\n  setData(LOCAL_FIELDS, JSON.stringify(storageObj));\n}\n"],"names":["$5uEKZ","parcelRequire","$945622fd0f572e60$var$email","document","querySelector","$945622fd0f572e60$var$message","$945622fd0f572e60$var$submit","$945622fd0f572e60$var$storageObj","$945622fd0f572e60$var$getInputs","input1","parsedData","JSON","parse","getData","name","error","value","$945622fd0f572e60$var$input","console","log","this","setData","stringify","addEventListener","$8zd4h","ev","preventDefault","removeData"],"version":3,"file":"03-feedback.0e97ac40.js.map"}