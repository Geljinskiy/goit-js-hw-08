{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAQC,SAASC,cAAc,SAC/BC,EAAUF,SAASC,cAAc,YACjCE,EAASH,SAASC,cAAc,UAClCG,EAAa,GACXC,EAAe,sB,aAoBrB,SAASC,EAAUC,GACjB,IAAIC,GAAa,EACjB,IACEA,EAAaC,KAAKC,OAAM,EAAAb,EAAAc,SAAQN,IAAeE,EAAMK,MACrD,MAAOC,IACLL,IACFJ,EAAaK,KAAKC,OAAM,EAAAb,EAAAc,SAAQN,IAChCE,EAAMO,MAAQN,GAIlB,SAASO,IACPC,QAAQC,IAAIb,GACZA,EAAWc,KAAKN,MAAQM,KAAKJ,OAC7B,EAAAjB,EAAAsB,SAAQd,EAAcI,KAAKW,UAAUhB,IA/BvCE,EAAUP,GACVO,EAAUJ,GAEVH,EAAMsB,iBAAiB,QAASC,EAASP,EAAO,MAChDb,EAAQmB,iBAAiB,QAASC,EAASP,EAAO,MAElDZ,EAAOkB,iBAAiB,SAExB,SAAkBE,GAChBA,EAAGC,iBAEHR,QAAQC,IAAIb,IACZ,EAAAP,EAAA4B,YAAWpB,GACXN,EAAMe,MAAQ,GACdZ,EAAQY,MAAQ,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import { setData, getData, removeData } from './storage';\n\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\nconst submit = document.querySelector('button');\nlet storageObj = {};\nconst LOCAL_FIELDS = 'feedback-form-state';\nconst throttle = require('lodash/throttle');\n\ngetInputs(email);\ngetInputs(message);\n\nemail.addEventListener('input', throttle(input, 500));\nmessage.addEventListener('input', throttle(input, 500));\n\nsubmit.addEventListener('click', onSubmit);\n\nfunction onSubmit(ev) {\n  ev.preventDefault();\n\n  console.log(storageObj);\n  removeData(LOCAL_FIELDS);\n  email.value = '';\n  message.value = '';\n}\n\nfunction getInputs(input) {\n  let parsedData = false;\n  try {\n    parsedData = JSON.parse(getData(LOCAL_FIELDS))[input.name];\n  } catch (error) {}\n  if (parsedData) {\n    storageObj = JSON.parse(getData(LOCAL_FIELDS));\n    input.value = parsedData;\n  }\n}\n\nfunction input() {\n  console.log(storageObj);\n  storageObj[this.name] = this.value;\n  setData(LOCAL_FIELDS, JSON.stringify(storageObj));\n}\n"],"names":["$jzQFI","parcelRequire","$b00c40859be242c5$var$email","document","querySelector","$b00c40859be242c5$var$message","$b00c40859be242c5$var$submit","$b00c40859be242c5$var$storageObj","$b00c40859be242c5$var$LOCAL_FIELDS","$b00c40859be242c5$var$getInputs","input1","parsedData","JSON","parse","getData","name","error","value","$b00c40859be242c5$var$input","console","log","this","setData","stringify","addEventListener","$eaxEB","ev","preventDefault","removeData"],"version":3,"file":"03-feedback.69b0b4a8.js.map"}